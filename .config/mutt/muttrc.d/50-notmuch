set virtual_spoolfile=yes
set spoolfile = "unread"
set folder = "~/mail/"
macro generic,index a "<modify-labels>+archive -unread -inbox<enter>" "Archive message"
macro generic,index s "<modify-labels>+todo -unread -inbox<enter>" "Mark as TODO"
macro index c "<change-vfolder>?" "Change to vfolder overview"
macro index \\\\ "<vfolder-from-query>" "Search mailbox"
bind index,pager \` modify-labels
macro generic,index,pager d "<modify-labels>+deleted -unread -inbox<enter>" "mark as deleted"
macro generic,index,pager u "<modify-labels>-deleted +inbox<enter>" "mark as undeleted"
set nm_exclude_tags = "deleted"

virtual-mailboxes "unread" "notmuch://?query=tag:unread"
virtual-mailboxes "INBOX" notmuch://?query=tag:inbox"
virtual-mailboxes "TODOs" "notmuch://?query=tag:todo"
virtual-mailboxes "archive" "notmuch://?query=tag:archive"
virtual-mailboxes "sent" "notmuch://?query=tag:sent"
virtual-mailboxes "All Mail" "notmuch://?query=*"
